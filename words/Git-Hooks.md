## Git Hooks

要自动化上面的流程，就要用到 Git 的钩子函数 Hooks。

Git Hooks 通过一个个钩子，允许 Git 在每个节点执行一些 shell 脚本，如果哪个阶段有问题，就会抛出错误，拒绝提交代码。

常见的 Git 钩子：

**客户端钩子：**

- `pre-commit`，输入 `git commit` 调出提交信息编辑器之前，主要用来代码格式，代码检测、单元测试等。
- `prepare-commit-msg git commit` 编辑器启动提交信息之前，默认信息被创建之后，主要编辑提交信息
- `commit-msg git commit` 信息提交，用来检查提交信息的格式。
- `post-commit` 在提交完成后，可以用来发送通知，提醒其他同事等。

**服务器端钩子**

- `pre-receive`：客户端推送代码到服务器时，只会触发一次
- `update`：客户端推送代码到服务器，如果多个分支，分别触发一次
- `post-receive`：推送完成后。

整个钩子触发的时间点可以理解为：在网站上打开一个弹框输入信息，提交信息，关闭弹框的过程

- 1、点击新建按钮，弹框弹出前（`pre-commit`）
- 2、弹框获取初始模版信息后（`prepare-commit-msg`）
- 3、编辑信息以后，点击提交时（`commit-msg`），这时可以对提交的信息进行检测
- 4、点击保存信息完成（`post-commit`）
